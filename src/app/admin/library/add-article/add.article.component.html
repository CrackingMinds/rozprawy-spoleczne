<form [formGroup]="form" (ngSubmit)="save()">
  <div class="rs-form-field">
    <mat-form-field color="accent">
      <rs-select-article-type placeholder="Typ artykułu" formControlName="articleTypeId" required></rs-select-article-type>
      <mat-error *ngIf="form.get('articleTypeId').hasError('required')">
        Wybierz typ artykułu
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field">
    <mat-form-field color="accent">
      <input matInput
             placeholder="Nazwa"
             formControlName="title">
      <mat-error *ngIf="form.get('title').hasError('required')">
        Nazwa nie może być pusta
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field">
    <rs-add-authors
      name="article-authors"
      [parentForm]="form">
    </rs-add-authors>
  </div>

  <div class="rs-form-field">
    <mat-form-field color="accent">
      <input matInput
             placeholder="Strony w artykule"
             formControlName="pages">
      <mat-error *ngIf="form.get('pages').hasError('required')">
        Podaj strony na których występuje
      </mat-error>
      <mat-error *ngIf="form.get('pages').hasError('pattern')">
        Podaj poprawny zakres stron (np. 1, albo 1-3)
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field">
    <mat-form-field color="accent">
      <input matInput
             type="url"
             placeholder="DOI"
             formControlName="doi">
      <mat-error *ngIf="form.get('doi').hasError('required')">
        Podaj numer DOI
      </mat-error>
      <mat-error *ngIf="form.get('doi').hasError('pattern')">
        Podaj poprawny link doi (np. https://doi.org/[wartosc]/rs.[rok wydania].[numer artykułu])
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field">
    <rs-toggle-area name="Wprowadzenie">
      <mat-form-field>
        <textarea matInput
                  placeholder="Wprowadzenie"
                  formControlName="introduction">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field">
    <rs-toggle-area name="Materiały i metody">
      <mat-form-field>
        <textarea matInput
                  placeholder="Materiały i metody"
                  formControlName="materialsAndMethods">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field">
    <rs-toggle-area name="Wyniki">
      <mat-form-field>
        <textarea matInput
                  placeholder="Wyniki"
                  formControlName="results">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field">
    <rs-toggle-area name="Wnioski">
      <mat-form-field>
        <textarea matInput
                  placeholder="Wnioski"
                  formControlName="conclusions">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field">
    <rs-toggle-area name="Słowa kluczowe">
      <mat-form-field>
        <textarea matInput
                  placeholder="Słowa kluczowe"
                  formControlName="keywords"></textarea>
        <mat-error *ngIf="form.get('keywords').hasError('required')">
          Podaj słowa kluczowe
        </mat-error>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field">
    <rs-upload-article
      name="article-pdf"
      formControlName="pdf">
    </rs-upload-article>
  </div>

  <div class="rs-form-buttons">
    <button mat-button color="accent"
            type="button"
            (click)="cancel()">
      Anuluj
    </button>
    <button mat-raised-button color="accent"
            type="submit"
            [disabled]="form.invalid">
      Zapisz
    </button>
  </div>
</form>

<pre>{{ form.value | json }}</pre>
<pre>isFormValid: {{ form.valid }}</pre>

