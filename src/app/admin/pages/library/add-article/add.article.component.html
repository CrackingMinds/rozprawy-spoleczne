<form [formGroup]="form" (ngSubmit)="submit()">
  <div class="rs-form-field-container">
    <mat-form-field class="rs-form-field" color="accent">
      <rs-select-article-type [articleTypes]="articleTypes" placeholder="Typ artykułu" formControlName="articleTypeId" required></rs-select-article-type>
      <mat-error *ngIf="form.get('articleTypeId').hasError('required')">
        Wybierz typ artykułu
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field-container">
    <mat-form-field class="rs-form-field" color="accent">
      <input matInput
             placeholder="Nazwa"
             formControlName="title">
      <mat-error *ngIf="form.get('title').hasError('required')">
        Nazwa nie może być pusta
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field-container">
    <rs-add-authors formControlName="authors"></rs-add-authors>
  </div>

  <div class="rs-form-field-container">
    <mat-form-field color="accent">
      <input matInput
             placeholder="Strony w numerze"
             formControlName="pages">
      <mat-error *ngIf="form.get('pages').hasError('required')">
        Podaj strony na których występuje
      </mat-error>
      <mat-error *ngIf="form.get('pages').hasError('pattern')">
        Podaj poprawny zakres stron (np. 1, albo 1-3)
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field-container">
    <mat-form-field class="rs-form-field" color="accent">
      <input matInput
             type="url"
             placeholder="DOI"
             formControlName="doi">
      <mat-error *ngIf="form.get('doi').hasError('required')">
        Podaj numer DOI
      </mat-error>
      <mat-error *ngIf="form.get('doi').hasError('pattern')">
        Podaj poprawny link doi (np. https://doi.org/[wartosc]/rs.[rok wydania].[numer artykułu])
      </mat-error>
    </mat-form-field>
  </div>

  <div class="rs-form-field-container">
    <rs-toggle-area name="Wprowadzenie" [checked]="initialArticleData.introduction">
      <mat-form-field>
        <textarea matInput
                  placeholder="Wprowadzenie"
                  formControlName="introduction">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field-container">
    <rs-toggle-area name="Materiały i metody" [checked]="initialArticleData.materialsAndMethods">
      <mat-form-field>
        <textarea matInput
                  placeholder="Materiały i metody"
                  formControlName="materialsAndMethods">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field-container">
    <rs-toggle-area name="Wyniki" [checked]="initialArticleData.results">
      <mat-form-field>
        <textarea matInput
                  placeholder="Wyniki"
                  formControlName="results">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field-container">
    <rs-toggle-area name="Wnioski" [checked]="initialArticleData.conclusions">
      <mat-form-field>
        <textarea matInput
                  placeholder="Wnioski"
                  formControlName="conclusions">
        </textarea>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field-container">
    <rs-toggle-area name="Słowa kluczowe" [checked]="initialArticleData.keywords">
      <mat-form-field>
        <textarea matInput
                  placeholder="Słowa kluczowe"
                  formControlName="keywords"></textarea>
        <mat-error *ngIf="form.get('keywords').hasError('required')">
          Podaj słowa kluczowe
        </mat-error>
      </mat-form-field>
    </rs-toggle-area>
  </div>

  <div class="rs-form-field-container">
    <rs-upload-article
      name="article-pdf"
      formControlName="pdf">
    </rs-upload-article>
  </div>

</form>

<div>
  <pre>authors control valid: {{ form.get('authors').valid }}</pre>
  <pre>{{ form.value | json }}</pre>
  <pre>isFormValid: {{ form.valid }}</pre>
  <pre>params: {{ params | json }}</pre>
</div>
